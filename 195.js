"use strict";(self.webpackChunkmhbp_angular=self.webpackChunkmhbp_angular||[]).push([[195],{9195:(k,w,i)=>{i.r(w),i.d(w,{AccountsModule:()=>Mt,AccountsRoutes:()=>P,AccountsRoutingModule:()=>R});var u=i(6895),a=i(4006),l=i(9299),N=i(3081),p=i(3626),d=i(9732),m=i(8318),r=i(3788),t=i(4650),Y=i(4190),U=i(1439),h=i(9185),f=i(6890),Z=i(2555),D=i(7530),A=i(6264),T=i(305),C=i(5014),b=i(8868),x=i(3370),q=i(9863),L=i(7824),Q=i(1336),M=i(4859);function F(e,c){1&e&&(t.ynx(0),t._uU(1,"\n            "),t.TgZ(2,"app-ct-section-header-row"),t._uU(3,"\n                "),t.TgZ(4,"app-ct-alert",16),t._uU(5,"Creating and editing of accounts are disabled, assetMode is 'replicated'.\n                "),t.qZA(),t._uU(6,"\n            "),t.qZA(),t._uU(7,"\n        "),t.BQk())}function B(e,c){1&e&&(t.TgZ(0,"th",17),t._uU(1,"ID "),t.qZA())}function j(e,c){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const n=c.$implicit;t.xp6(1),t.hij("",n.id," ")}}function G(e,c){1&e&&(t.TgZ(0,"th",17),t._uU(1,"Is enabled "),t.qZA())}function H(e,c){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const n=c.$implicit;t.xp6(1),t.hij("",n.enabled?"Yes":"No"," ")}}function K(e,c){1&e&&(t.TgZ(0,"th",17),t._uU(1,"Login "),t.qZA())}function W(e,c){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const n=c.$implicit;t.xp6(1),t.hij("",n.username," ")}}function z(e,c){1&e&&(t.TgZ(0,"th",17),t._uU(1,"Public name "),t.qZA())}function $(e,c){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const n=c.$implicit;t.xp6(1),t.hij("",n.publicName," ")}}function X(e,c){1&e&&(t.TgZ(0,"th",17),t._uU(1,"Created On "),t.qZA())}function V(e,c){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=c.$implicit;t.xp6(1),t.hij("\n                            ",t.xi3(2,1,n.createdOn,"HH:mm:ss, MMM\xa0d,\xa0yyyy")," ")}}function tt(e,c){1&e&&(t.TgZ(0,"th",17),t._uU(1," "),t.qZA())}const nt=function(e){return["/dispatcher/accounts/edit/",e]},et=function(e){return["/dispatcher/accounts/edit-password/",e]};function ot(e,c){if(1&e&&(t.ynx(0),t._uU(1,"\n                                "),t.TgZ(2,"app-ct-flex",19),t._uU(3,"\n                                    "),t.TgZ(4,"app-ct-flex-item"),t._uU(5,"\n                                        "),t.TgZ(6,"button",20),t._uU(7,"\n                                            Edit"),t.qZA(),t._uU(8,"\n                                    "),t.qZA(),t._uU(9,"\n                                    "),t._uU(10,"\n                                    "),t._uU(11,"\n                                    "),t.TgZ(12,"app-ct-flex-item"),t._uU(13,"\n                                        "),t.TgZ(14,"button",20),t._uU(15,"\n                                            Change Password"),t.qZA(),t._uU(16,"\n                                    "),t.qZA(),t._uU(17,"\n                                "),t.qZA(),t._uU(18,"\n                            "),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(6),t.Q6J("routerLink",t.VKq(2,nt,n.id)),t.xp6(8),t.Q6J("routerLink",t.VKq(4,et,n.id))}}function ct(e,c){if(1&e&&(t.TgZ(0,"td",18),t._uU(1,"\n                            "),t.YNc(2,ot,19,6,"ng-container",0),t._uU(3,"\n                        "),t.qZA()),2&e){const n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!n.dispatcherAssetModeService.isReplicated(n.accountsResult.assetMode))}}function at(e,c){1&e&&(t.TgZ(0,"tr",21),t._uU(1," "),t.qZA())}function st(e,c){1&e&&(t.TgZ(0,"tr",22),t._uU(1," "),t.qZA())}function it(e,c){if(1&e&&(t.ynx(0),t._uU(1,"\n                    "),t.TgZ(2,"app-ct-flex-item"),t._uU(3,"\n                        "),t.TgZ(4,"button",23),t._uU(5,"\n                                Add New Account \n                        "),t.qZA(),t._uU(6,"\n                    "),t.qZA(),t._uU(7,"\n                "),t.BQk()),2&e){const n=t.oxw(2);t.xp6(4),t.Q6J("disabled",n.isLoading)}}function ut(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"app-ct-section"),t._uU(1,"\n    "),t.TgZ(2,"app-ct-section-header"),t._uU(3,"\n        "),t.TgZ(4,"app-ct-section-header-row"),t._uU(5,"\n            "),t.TgZ(6,"app-ct-heading"),t._uU(7,"\n                Accounts\n            "),t.qZA(),t._uU(8,"\n        "),t.qZA(),t._uU(9,"\n\n        "),t.YNc(10,F,8,0,"ng-container",0),t._uU(11,"\n    "),t.qZA(),t._uU(12,"\n\n    "),t.TgZ(13,"app-ct-section-body"),t._uU(14,"\n        "),t.TgZ(15,"app-ct-section-body-row"),t._uU(16,"\n            "),t.TgZ(17,"ct-table",1),t._uU(18,"\n                "),t.TgZ(19,"table",2),t._uU(20,"\n                    "),t.ynx(21,3),t._uU(22,"\n                        "),t.YNc(23,B,2,0,"th",4),t._uU(24,"\n                        "),t.YNc(25,j,2,1,"td",5),t._uU(26,"\n                    "),t.BQk(),t._uU(27,"\n                    "),t.ynx(28,6),t._uU(29,"\n                        "),t.YNc(30,G,2,0,"th",4),t._uU(31,"\n                        "),t.YNc(32,H,2,1,"td",5),t._uU(33,"\n                    "),t.BQk(),t._uU(34,"\n                    "),t.ynx(35,7),t._uU(36,"\n                        "),t.YNc(37,K,2,0,"th",4),t._uU(38,"\n                        "),t.YNc(39,W,2,1,"td",5),t._uU(40,"\n                    "),t.BQk(),t._uU(41,"\n                    "),t.ynx(42,8),t._uU(43,"\n                        "),t.YNc(44,z,2,0,"th",4),t._uU(45,"\n                        "),t.YNc(46,$,2,1,"td",5),t._uU(47,"\n                    "),t.BQk(),t._uU(48,"\n                    "),t.ynx(49,9),t._uU(50,"\n                        "),t.YNc(51,X,2,0,"th",4),t._uU(52,"\n                        "),t.YNc(53,V,3,4,"td",5),t._uU(54,"\n                    "),t.BQk(),t._uU(55,"\n                    "),t.ynx(56,10),t._uU(57,"\n                        "),t.YNc(58,tt,2,0,"th",4),t._uU(59,"\n                        "),t.YNc(60,ct,4,1,"td",5),t._uU(61,"\n                    "),t.BQk(),t._uU(62,"\n                    "),t.YNc(63,at,2,0,"tr",11),t._uU(64,"\n                    "),t.YNc(65,st,2,0,"tr",12),t._uU(66,"\n                "),t.qZA(),t._uU(67,"\n            "),t.qZA(),t._uU(68,"\n        "),t.qZA(),t._uU(69,"\n    "),t.qZA(),t._uU(70,"\n\n    "),t.TgZ(71,"app-ct-section-footer"),t._uU(72,"\n        "),t.TgZ(73,"app-ct-section-footer-row"),t._uU(74,"\n            "),t.TgZ(75,"app-ct-flex",13),t._uU(76,"\n                "),t.TgZ(77,"app-ct-flex-item"),t._uU(78,"\n                    "),t.TgZ(79,"app-ct-flex",14),t._uU(80,"\n                        "),t.TgZ(81,"app-ct-table-pagination",15),t.NdJ("next",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.nextPage())})("prev",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.prevPage())}),t._uU(82,"\n                        "),t.qZA(),t._uU(83,"\n                    "),t.qZA(),t._uU(84,"\n                "),t.qZA(),t._uU(85,"\n\n                "),t.YNc(86,it,8,1,"ng-container",0),t._uU(87,"\n            "),t.qZA(),t._uU(88,"\n        "),t.qZA(),t._uU(89,"\n    "),t.qZA(),t._uU(90,"\n"),t.qZA()}if(2&e){const n=t.oxw();t.xp6(10),t.Q6J("ngIf",n.dispatcherAssetModeService.isReplicated(n.accountsResult.assetMode)),t.xp6(7),t.Q6J("isWaiting",n.isLoading),t.xp6(2),t.Q6J("dataSource",n.dataSource),t.xp6(44),t.Q6J("matHeaderRowDef",n.columnsToDisplay),t.xp6(2),t.Q6J("matRowDefColumns",n.columnsToDisplay),t.xp6(16),t.Q6J("pageableDefault",n.accountsResult.accounts)("globalDisable",n.isLoading),t.xp6(5),t.Q6J("ngIf",!n.dispatcherAssetModeService.isReplicated(n.accountsResult.assetMode))}}let _t=(()=>{class e extends m.S{constructor(n,o,s){super(s),this.accountsService=n,this.dispatcherAssetModeService=o,this.authenticationService=s,this.dataSource=new p.by([]),this.columnsToDisplay=["id","isEnabled","login","publicName","createdOn","bts"]}ngOnInit(){this.updateTable(0)}updateTable(n){this.setIsLoadingStart(),this.accountsService.accounts(n.toString()).subscribe({next:o=>{this.accountsResult=o,this.dataSource=new p.by(this.accountsResult.accounts.content||[])},complete:()=>{this.setIsLoadingEnd()}})}nextPage(){this.updateTable(this.accountsResult.accounts.number+1)}prevPage(){this.updateTable(this.accountsResult.accounts.number-1)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(d.i),t.Y36(Y.F),t.Y36(r.$h))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-accounts-view"]],features:[t.qOj],decls:1,vars:1,consts:[[4,"ngIf"],[3,"isWaiting"],["mat-table","",1,"mat-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","isEnabled"],["matColumnDef","login"],["matColumnDef","publicName"],["matColumnDef","createdOn"],["matColumnDef","bts"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["justify-content","space-between"],["justify-content","flex-start","gap","8px"],[3,"pageableDefault","globalDisable","next","prev"],["theme","info"],["mat-header-cell",""],["mat-cell",""],["justify-content","flex-end","gap","9px"],["mat-flat-button","","size","forTableRow","color","primary",3,"routerLink"],["mat-header-row",""],["mat-row",""],["mat-flat-button","","color","primary","wide","wide","routerLink","/dispatcher/accounts/add/",3,"disabled"]],template:function(n,o){1&n&&t.YNc(0,ut,91,8,"app-ct-section",0),2&n&&t.Q6J("ngIf",o.accountsResult)},dependencies:[u.O5,l.rH,U.U,h.n,f.V,Z.R,D.a,A.i,T.Z,C.t,b.B,x.i,q._,L.C,Q.v,M.lW,p.BZ,p.fO,p.as,p.w1,p.Dz,p.nj,p.ge,p.ev,p.XQ,p.Gk,u.uU]}),e})();var S=i(535),pt=i(2199),v=i(3735),y=i(2379),O=i(5510),I=i(284),g=i(9549);function rt(e,c){if(1&e&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&e){const n=c.$implicit;t.xp6(1),t.Oqu(n)}}function lt(e,c){if(1&e&&(t.TgZ(0,"app-ct-section"),t._uU(1,"\n      "),t.TgZ(2,"app-ct-section-body"),t._uU(3,"\n        "),t.TgZ(4,"app-ct-section-body-row"),t._uU(5,"\n          "),t.TgZ(6,"p"),t._uU(7),t.qZA(),t._uU(8,"\n          "),t.YNc(9,rt,2,1,"p",12),t._uU(10,"\n        "),t.qZA(),t._uU(11,"\n      "),t.qZA(),t._uU(12,"\n    "),t.qZA()),2&e){const n=t.oxw();t.xp6(7),t.hij("STATUS: ",n.response.status,""),t.xp6(2),t.Q6J("ngForOf",n.response.errorMessages)}}let dt=(()=>{class e{constructor(n,o){this.accountsService=n,this.router=o,this.states=S.C,this.currentStates=new Set,this.form=new a.cw({username:new a.NI("",[a.kI.required,a.kI.minLength(3)]),password:new a.NI("",[a.kI.required,a.kI.minLength(3)]),password2:new a.NI("",[a.kI.required,a.kI.minLength(3),s=>{const _=this.form;return _?_.value.password===s.value?null:{notSame:!0}:null}]),publicName:new a.NI("",[a.kI.required,a.kI.minLength(3)])})}create(){this.currentStates.add(this.states.wait);const n=this.accountsService.addFormCommit(this.form.value).subscribe(o=>{o.status===pt.o.OK&&this.router.navigate(["/dispatcher","accounts"])},()=>{},()=>{this.currentStates.delete(this.states.wait),n.unsubscribe()})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(d.i),t.Y36(l.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["account-add"]],decls:109,vars:3,consts:[["align-items","baseline"],["size","6"],["novalidate","novalidate",3,"formGroup"],["appearance","outline"],["type","text","matInput","matInput","autocomplete","off","formControlName","username"],["type","password","matInput","matInput","autocomplete","off","formControlName","password"],["type","password","matInput","matInput","autocomplete","off","formControlName","password2"],["type","text","matInput","matInput","autocomplete","off","formControlName","publicName"],["justify-content","flex-end","gap","8px"],["mat-stroked-button","mat-stroked-button","routerLink","/dispatcher/accounts/"],["mat-flat-button","mat-flat-button","color","primary",3,"disabled","click"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(n,o){1&n&&(t._uU(0,"\n"),t.TgZ(1,"app-ct-cols",0),t._uU(2,"\n  "),t.TgZ(3,"app-ct-col",1),t._uU(4,"\n    "),t.TgZ(5,"app-ct-section"),t._uU(6,"\n      "),t.TgZ(7,"app-ct-section-header"),t._uU(8,"\n        "),t.TgZ(9,"app-ct-section-header-row"),t._uU(10,"\n          "),t.TgZ(11,"app-ct-heading"),t._uU(12,"New Account"),t.qZA(),t._uU(13,"\n        "),t.qZA(),t._uU(14,"\n      "),t.qZA(),t._uU(15,"\n      "),t.TgZ(16,"app-ct-section-body"),t._uU(17,"\n        "),t.TgZ(18,"app-ct-section-body-row"),t._uU(19,"\n          "),t.TgZ(20,"form",2),t._uU(21,"\n            "),t.TgZ(22,"app-ct-section-content"),t._uU(23,"\n              "),t.TgZ(24,"mat-form-field",3),t._uU(25,"\n                "),t.TgZ(26,"mat-label"),t._uU(27,"Username"),t.qZA(),t._uU(28,"\n                "),t._UZ(29,"input",4),t._uU(30,"\n                "),t.TgZ(31,"mat-hint"),t._uU(32,"This is a required field."),t.qZA(),t._uU(33,"\n              "),t.qZA(),t._uU(34,"\n            "),t.qZA(),t._uU(35,"\n            "),t.TgZ(36,"app-ct-section-content"),t._uU(37,"\n              "),t.TgZ(38,"mat-form-field",3),t._uU(39,"\n                "),t.TgZ(40,"mat-label"),t._uU(41,"Password"),t.qZA(),t._uU(42,"\n                "),t._UZ(43,"input",5),t._uU(44,"\n                "),t.TgZ(45,"mat-hint"),t._uU(46,"This is a required field."),t.qZA(),t._uU(47,"\n              "),t.qZA(),t._uU(48,"\n            "),t.qZA(),t._uU(49,"\n            "),t.TgZ(50,"app-ct-section-content"),t._uU(51,"\n              "),t.TgZ(52,"mat-form-field",3),t._uU(53,"\n                "),t.TgZ(54,"mat-label"),t._uU(55,"Password again"),t.qZA(),t._uU(56,"\n                "),t._UZ(57,"input",6),t._uU(58,"\n                "),t.TgZ(59,"mat-hint"),t._uU(60,"This is a required field."),t.qZA(),t._uU(61,"\n              "),t.qZA(),t._uU(62,"\n            "),t.qZA(),t._uU(63,"\n            "),t.TgZ(64,"app-ct-section-content"),t._uU(65,"\n              "),t.TgZ(66,"mat-form-field",3),t._uU(67,"\n                "),t.TgZ(68,"mat-label"),t._uU(69,"Public name"),t.qZA(),t._uU(70,"\n                "),t._UZ(71,"input",7),t._uU(72,"\n                "),t.TgZ(73,"mat-hint"),t._uU(74,"This is a required field."),t.qZA(),t._uU(75,"\n              "),t.qZA(),t._uU(76,"\n            "),t.qZA(),t._uU(77,"\n          "),t.qZA(),t._uU(78,"\n        "),t.qZA(),t._uU(79,"\n      "),t.qZA(),t._uU(80,"\n      "),t.TgZ(81,"app-ct-section-footer"),t._uU(82,"\n        "),t.TgZ(83,"app-ct-section-footer-row"),t._uU(84,"\n          "),t.TgZ(85,"app-ct-flex",8),t._uU(86,"\n            "),t.TgZ(87,"app-ct-flex-item"),t._uU(88,"\n              "),t.TgZ(89,"button",9),t._uU(90,"Cancel"),t.qZA(),t._uU(91,"\n            "),t.qZA(),t._uU(92,"\n            "),t.TgZ(93,"app-ct-flex-item"),t._uU(94,"\n              "),t.TgZ(95,"button",10),t.NdJ("click",function(){return o.create()}),t._uU(96,"Create"),t.qZA(),t._uU(97,"\n            "),t.qZA(),t._uU(98,"\n          "),t.qZA(),t._uU(99,"\n        "),t.qZA(),t._uU(100,"\n      "),t.qZA(),t._uU(101,"\n    "),t.qZA(),t._uU(102,"\n  "),t.qZA(),t._uU(103,"\n  "),t.TgZ(104,"app-ct-col",1),t._uU(105,"\n    "),t.YNc(106,lt,13,2,"app-ct-section",11),t._uU(107,"\n  "),t.qZA(),t._uU(108,"\n"),t.qZA()),2&n&&(t.xp6(20),t.Q6J("formGroup",o.form),t.xp6(75),t.Q6J("disabled",o.currentStates.has(o.states.wait)||o.form.invalid),t.xp6(11),t.Q6J("ngIf",o.response))},dependencies:[u.sg,u.O5,l.rH,v.a,U.U,h.n,f.V,Z.R,y.t,O.W,A.i,T.Z,C.t,b.B,x.i,q._,M.lW,I.Nt,g.KE,g.hX,g.bx,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],styles:["[_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),e})();var E=i(6709);function mt(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"app-ct-section-body-row",6),t._uU(1,"\n                    "),t.TgZ(2,"app-ct-section-content"),t._uU(3,"\n                        "),t.TgZ(4,"mat-checkbox",7),t.NdJ("ngModelChange",function(s){t.CHM(n);const _=t.oxw(2);return t.KtG(_.isManager=s)}),t._uU(5,"Manager"),t.qZA(),t._uU(6,"\n                    "),t.qZA(),t._uU(7,"\n                    "),t.TgZ(8,"app-ct-section-content"),t._uU(9,"\n                        "),t.TgZ(10,"mat-checkbox",7),t.NdJ("ngModelChange",function(s){t.CHM(n);const _=t.oxw(2);return t.KtG(_.isOperator=s)}),t._uU(11,"Operator"),t.qZA(),t._uU(12,"\n                    "),t.qZA(),t._uU(13,"\n                    "),t.TgZ(14,"app-ct-section-content"),t._uU(15,"\n                        "),t.TgZ(16,"mat-checkbox",7),t.NdJ("ngModelChange",function(s){t.CHM(n);const _=t.oxw(2);return t.KtG(_.isBilling=s)}),t._uU(17,"Billing"),t.qZA(),t._uU(18,"\n                    "),t.qZA(),t._uU(19,"\n                    "),t.TgZ(20,"app-ct-section-content"),t._uU(21,"\n                        "),t.TgZ(22,"mat-checkbox",7),t.NdJ("ngModelChange",function(s){t.CHM(n);const _=t.oxw(2);return t.KtG(_.isData=s)}),t._uU(23,"Data"),t.qZA(),t._uU(24,"\n                    "),t.qZA(),t._uU(25,"\n                    "),t.TgZ(26,"app-ct-section-content"),t._uU(27,"\n                        "),t.TgZ(28,"mat-checkbox",7),t.NdJ("ngModelChange",function(s){t.CHM(n);const _=t.oxw(2);return t.KtG(_.isServerRestAccess=s)}),t._uU(29,"Server Rest Access"),t.qZA(),t._uU(30,"\n                    "),t.qZA(),t._uU(31,"\n                    "),t.TgZ(32,"app-ct-section-content"),t._uU(33,"\n                        "),t.TgZ(34,"mat-checkbox",7),t.NdJ("ngModelChange",function(s){t.CHM(n);const _=t.oxw(2);return t.KtG(_.isAdmin=s)}),t._uU(35,"Admin"),t.qZA(),t._uU(36,"\n                    "),t.qZA(),t._uU(37,"\n                "),t.qZA()}if(2&e){const n=t.oxw(2);t.xp6(4),t.Q6J("ngModel",n.isManager),t.xp6(6),t.Q6J("ngModel",n.isOperator),t.xp6(6),t.Q6J("ngModel",n.isBilling),t.xp6(6),t.Q6J("ngModel",n.isData),t.xp6(6),t.Q6J("ngModel",n.isServerRestAccess),t.xp6(6),t.Q6J("ngModel",n.isAdmin)}}function gt(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"app-ct-cols"),t._uU(1,"\n    "),t.TgZ(2,"app-ct-col",1),t._uU(3,"\n        "),t.TgZ(4,"app-ct-section"),t._uU(5,"\n            "),t.TgZ(6,"app-ct-section-header"),t._uU(7,"\n                "),t.TgZ(8,"app-ct-section-header-row"),t._uU(9,"\n                    "),t.TgZ(10,"app-ct-heading"),t._uU(11),t.qZA(),t._uU(12,"\n                "),t.qZA(),t._uU(13,"\n            "),t.qZA(),t._uU(14,"\n            "),t.TgZ(15,"app-ct-section-body"),t._uU(16,"\n                "),t.YNc(17,mt,38,6,"app-ct-section-body-row",2),t._uU(18,"\n            "),t.qZA(),t._uU(19,"\n            "),t.TgZ(20,"app-ct-section-footer"),t._uU(21,"\n                "),t.TgZ(22,"app-ct-section-footer-row"),t._uU(23,"\n                    "),t.TgZ(24,"app-ct-flex",3),t._uU(25,"\n                        "),t.TgZ(26,"app-ct-flex-item"),t._uU(27,"\n                            "),t.TgZ(28,"button",4),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.back())}),t._uU(29,"Cancel"),t.qZA(),t._uU(30,"\n                        "),t.qZA(),t._uU(31,"\n                        "),t.TgZ(32,"app-ct-flex-item"),t._uU(33,"\n                            "),t.TgZ(34,"button",5),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.save())}),t._uU(35,"Save"),t.qZA(),t._uU(36,"\n                        "),t.qZA(),t._uU(37,"\n                    "),t.qZA(),t._uU(38,"\n                "),t.qZA(),t._uU(39,"\n            "),t.qZA(),t._uU(40,"\n        "),t.qZA(),t._uU(41,"\n    "),t.qZA(),t._uU(42,"\n"),t.qZA()}if(2&e){const n=t.oxw();t.xp6(11),t.AsE("\n                        Account Role id ",null==n.response.account?null:n.response.account.id,", login ",null==n.response.account?null:n.response.account.username,"\n                    "),t.xp6(6),t.Q6J("ngIf",n.response)}}let Ut=(()=>{class e{constructor(n,o,s){this.router=n,this.route=o,this.accountsService=s,this.isManager=!1,this.isOperator=!1,this.isBilling=!1,this.isData=!1,this.isAdmin=!1,this.isServerRestAccess=!1}ngOnInit(){this.accountsService.getAccount(this.route.snapshot.paramMap.get("accountId")).subscribe(n=>{this.response=n;const o=[];n.account.authorities.forEach(s=>o.push(s.authority)),this.isManager=o.includes(r.uU.ROLE_MANAGER),this.isOperator=o.includes(r.uU.ROLE_OPERATOR),this.isBilling=o.includes(r.uU.ROLE_BILLING),this.isData=o.includes(r.uU.ROLE_DATA),this.isAdmin=o.includes(r.uU.ROLE_ADMIN),this.isServerRestAccess=o.includes(r.uU.ROLE_SERVER_REST_ACCESS)})}save(){const n=[],o=this.route.snapshot.paramMap.get("accountId");this.isAdmin&&n.push(r.uU.ROLE_ADMIN),this.isBilling&&n.push(r.uU.ROLE_BILLING),this.isData&&n.push(r.uU.ROLE_DATA),this.isManager&&n.push(r.uU.ROLE_MANAGER),this.isOperator&&n.push(r.uU.ROLE_OPERATOR),this.isServerRestAccess&&n.push(r.uU.ROLE_SERVER_REST_ACCESS),this.accountsService.roleFormCommit(o,n.join(",")).subscribe(()=>{})}back(){this.router.navigate(["../.."],{relativeTo:this.route})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(l.F0),t.Y36(l.gz),t.Y36(d.i))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-account-access"]],decls:1,vars:1,consts:[[4,"ngIf"],["size","6"],["style","font-size:125%;",4,"ngIf"],["justify-content","flex-end","gap","8px"],["mat-stroked-button","",3,"click"],["mat-flat-button","","color","primary",3,"click"],[2,"font-size","125%"],[3,"ngModel","ngModelChange"]],template:function(n,o){1&n&&t.YNc(0,gt,43,3,"app-ct-cols",0),2&n&&t.Q6J("ngIf",o.response)},dependencies:[u.O5,v.a,U.U,h.n,f.V,Z.R,y.t,O.W,A.i,T.Z,C.t,b.B,x.i,q._,M.lW,E.oG,a.JJ,a.On]}),e})();function ht(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"app-ct-section-body"),t._uU(1,"\n                "),t.TgZ(2,"app-ct-section-body-row"),t._uU(3,"\n                    "),t.TgZ(4,"app-ct-section-content"),t._uU(5,"\n                        "),t.TgZ(6,"mat-form-field",6),t._uU(7,"\n                            "),t.TgZ(8,"mat-label"),t._uU(9,"Public Name"),t.qZA(),t._uU(10,"\n                            "),t.TgZ(11,"input",7),t.NdJ("ngModelChange",function(s){t.CHM(n);const _=t.oxw();return t.KtG(_.account.publicName=s)}),t.qZA(),t._uU(12,"\n                        "),t.qZA(),t._uU(13,"\n                    "),t.qZA(),t._uU(14,"\n                    "),t.TgZ(15,"app-ct-section-content"),t._uU(16,"\n                        "),t.TgZ(17,"mat-checkbox",8),t.NdJ("ngModelChange",function(s){t.CHM(n);const _=t.oxw();return t.KtG(_.account.enabled=s)}),t._uU(18,"Is account enabled?"),t.qZA(),t._uU(19,"\n                    "),t.qZA(),t._uU(20,"\n                "),t.qZA(),t._uU(21,"\n            "),t.qZA()}if(2&e){const n=t.oxw();t.xp6(11),t.Q6J("ngModel",n.account.publicName),t.xp6(6),t.Q6J("ngModel",n.account.enabled)}}function ft(e,c){if(1&e&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&e){const n=c.$implicit;t.xp6(1),t.Oqu(n)}}function Zt(e,c){if(1&e&&(t.TgZ(0,"app-ct-section"),t._uU(1,"\n            "),t.TgZ(2,"app-ct-section-body"),t._uU(3,"\n                "),t.TgZ(4,"app-ct-section-body-row"),t._uU(5,"\n                    "),t.TgZ(6,"p"),t._uU(7),t.qZA(),t._uU(8,"\n                    "),t.YNc(9,ft,2,1,"p",9),t._uU(10,"\n                "),t.qZA(),t._uU(11,"\n            "),t.qZA(),t._uU(12,"\n        "),t.qZA()),2&e){const n=t.oxw();t.xp6(7),t.hij("STATUS: ",n.response.status,""),t.xp6(2),t.Q6J("ngForOf",n.response.errorMessages)}}let At=(()=>{class e{constructor(n,o,s,_){this.route=n,this.router=o,this.accountsService=s,this.location=_,this.states=S.C,this.currentStates=new Set}ngOnInit(){this.currentStates.add(this.states.firstLoading),this.getAccount()}getAccount(){const n=this.route.snapshot.paramMap.get("id");this.accountsService.getAccount(n).subscribe(o=>{this.account=o.account},()=>{},()=>{this.currentStates.delete(this.states.firstLoading)})}back(){this.location.back()}save(){this.currentStates.add(this.states.wait),this.accountsService.editFormCommit(this.account.id.toString(),this.account.publicName,this.account.enabled).subscribe(n=>{this.router.navigate(["/dispatcher","accounts"])},()=>{},()=>{this.currentStates.delete(this.states.wait)})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(l.gz),t.Y36(l.F0),t.Y36(d.i),t.Y36(u.Ye))},e.\u0275cmp=t.Xpm({type:e,selectors:[["account-edit"]],decls:45,vars:5,consts:[["align-items","baseline"],["size","6"],[4,"ngIf"],["justify-content","flex-end","gap","8px"],["mat-stroked-button","mat-stroked-button",3,"click"],["mat-flat-button","mat-flat-button","color","primary",3,"disabled","click"],["appearance","outline"],["matInput","matInput",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"]],template:function(n,o){1&n&&(t.TgZ(0,"app-ct-cols",0),t._uU(1,"\n    "),t.TgZ(2,"app-ct-col",1),t._uU(3,"\n        "),t.TgZ(4,"app-ct-section"),t._uU(5,"\n            "),t.TgZ(6,"app-ct-section-header"),t._uU(7,"\n                "),t.TgZ(8,"app-ct-section-header-row"),t._uU(9,"\n                    "),t.TgZ(10,"app-ct-heading"),t._uU(11),t.qZA(),t._uU(12,"\n                "),t.qZA(),t._uU(13,"\n            "),t.qZA(),t._uU(14,"\n            "),t.YNc(15,ht,22,2,"app-ct-section-body",2),t._uU(16,"\n            "),t.TgZ(17,"app-ct-section-footer"),t._uU(18,"\n                "),t.TgZ(19,"app-ct-section-footer-row"),t._uU(20,"\n                    "),t.TgZ(21,"app-ct-flex",3),t._uU(22,"\n                        "),t.TgZ(23,"app-ct-flex-item"),t._uU(24,"\n                            "),t.TgZ(25,"button",4),t.NdJ("click",function(){return o.back()}),t._uU(26,"Cancel"),t.qZA(),t._uU(27,"\n                        "),t.qZA(),t._uU(28,"\n                        "),t.TgZ(29,"app-ct-flex-item"),t._uU(30,"\n                            "),t.TgZ(31,"button",5),t.NdJ("click",function(){return o.save()}),t._uU(32,"Save"),t.qZA(),t._uU(33,"\n                        "),t.qZA(),t._uU(34,"\n                    "),t.qZA(),t._uU(35,"\n                "),t.qZA(),t._uU(36,"\n            "),t.qZA(),t._uU(37,"\n        "),t.qZA(),t._uU(38,"\n    "),t.qZA(),t._uU(39,"\n    "),t.TgZ(40,"app-ct-col",1),t._uU(41,"\n        "),t.YNc(42,Zt,13,2,"app-ct-section",2),t._uU(43,"\n    "),t.qZA(),t._uU(44,"\n"),t.qZA()),2&n&&(t.xp6(11),t.AsE("Edit Account ",o.account?o.account.username:""," (",o.account?o.account.publicName:"",")\n                    "),t.xp6(4),t.Q6J("ngIf",!o.currentStates.has(o.states.firstLoading)),t.xp6(16),t.Q6J("disabled",o.currentStates.has(o.states.wait)),t.xp6(11),t.Q6J("ngIf",o.response))},dependencies:[u.sg,u.O5,v.a,U.U,h.n,f.V,Z.R,y.t,O.W,A.i,T.Z,C.t,b.B,x.i,q._,M.lW,E.oG,I.Nt,g.KE,g.hX,a.Fj,a.JJ,a.On],styles:["[_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),e})();function Tt(e,c){if(1&e&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&e){const n=c.$implicit;t.xp6(1),t.Oqu(n)}}function Ct(e,c){if(1&e&&(t.TgZ(0,"app-ct-section"),t._uU(1,"\n      "),t.TgZ(2,"app-ct-section-body"),t._uU(3,"\n        "),t.TgZ(4,"app-ct-section-body-row"),t._uU(5,"\n          "),t.TgZ(6,"p"),t._uU(7),t.qZA(),t._uU(8,"\n          "),t.YNc(9,Tt,2,1,"p",10),t._uU(10,"\n        "),t.qZA(),t._uU(11,"\n      "),t.qZA(),t._uU(12,"\n    "),t.qZA()),2&e){const n=t.oxw();t.xp6(7),t.hij("STATUS: ",n.response.status,""),t.xp6(2),t.Q6J("ngForOf",n.response.errorMessages)}}let bt=(()=>{class e{constructor(n,o,s,_){this.route=n,this.router=o,this.accountsService=s,this.location=_,this.states=S.C,this.currentStates=new Set,this.form=new a.cw({password:new a.NI("",[a.kI.required,a.kI.minLength(3)]),password2:new a.NI("",[a.kI.required,a.kI.minLength(3),wt=>{const J=this.form;return J?J.value.password===wt.value?null:{notSame:!0}:null}])})}ngOnInit(){this.currentStates.add(this.states.firstLoading),this.getAccount()}back(){this.location.back()}getAccount(){const n=this.route.snapshot.paramMap.get("id");this.accountsService.getAccount(n).subscribe(o=>{this.account=o.account},()=>{},()=>{this.currentStates.delete(this.states.firstLoading)})}save(){this.currentStates.add(this.states.wait),this.accountsService.passwordEditFormCommit(this.account.id.toString(),this.form.value.password,this.form.value.password2).subscribe(n=>{this.router.navigate(["/dispatcher","accounts"])},()=>{},()=>{this.currentStates.delete(this.states.wait)})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(l.gz),t.Y36(l.F0),t.Y36(d.i),t.Y36(u.Ye))},e.\u0275cmp=t.Xpm({type:e,selectors:[["account-edit-pass"]],decls:75,vars:5,consts:[["align-items","baseline"],["size","6"],["novalidate","novalidate",3,"formGroup"],["appearance","outline"],["matInput","matInput","type","password","autocomplete","off","formControlName","password"],["matInput","matInput","type","password","autocomplete","off","formControlName","password2"],["justify-content","flex-end","gap","8px"],["mat-stroked-button","mat-stroked-button",3,"click"],["mat-flat-button","mat-flat-button","color","primary",3,"disabled","click"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(n,o){1&n&&(t._uU(0,"\n"),t.TgZ(1,"app-ct-cols",0),t._uU(2,"\n  "),t.TgZ(3,"app-ct-col",1),t._uU(4,"\n    "),t.TgZ(5,"app-ct-section"),t._uU(6,"\n      "),t.TgZ(7,"app-ct-section-header"),t._uU(8,"\n        "),t.TgZ(9,"app-ct-section-header-row"),t._uU(10,"\n          "),t.TgZ(11,"app-ct-heading"),t._uU(12),t.qZA(),t._uU(13,"\n        "),t.qZA(),t._uU(14,"\n      "),t.qZA(),t._uU(15,"\n      "),t.TgZ(16,"app-ct-section-body"),t._uU(17,"\n        "),t.TgZ(18,"app-ct-section-body-row"),t._uU(19,"\n          "),t.TgZ(20,"form",2),t._uU(21,"\n            "),t.TgZ(22,"app-ct-section-content"),t._uU(23,"\n              "),t.TgZ(24,"mat-form-field",3),t._uU(25," \n                "),t.TgZ(26,"mat-label"),t._uU(27,"Password"),t.qZA(),t._uU(28,"\n                "),t._UZ(29,"input",4),t._uU(30,"\n              "),t.qZA(),t._uU(31,"\n            "),t.qZA(),t._uU(32,"\n            "),t.TgZ(33,"app-ct-section-content"),t._uU(34,"\n              "),t.TgZ(35,"mat-form-field",3),t._uU(36," \n                "),t.TgZ(37,"mat-label"),t._uU(38,"Password again"),t.qZA(),t._uU(39,"\n                "),t._UZ(40,"input",5),t._uU(41,"\n              "),t.qZA(),t._uU(42,"\n            "),t.qZA(),t._uU(43,"\n          "),t.qZA(),t._uU(44,"\n        "),t.qZA(),t._uU(45,"\n      "),t.qZA(),t._uU(46,"\n      "),t.TgZ(47,"app-ct-section-footer"),t._uU(48,"\n        "),t.TgZ(49,"app-ct-section-footer-row"),t._uU(50,"\n          "),t.TgZ(51,"app-ct-flex",6),t._uU(52,"\n            "),t.TgZ(53,"app-ct-flex-item"),t._uU(54,"\n              "),t.TgZ(55,"button",7),t.NdJ("click",function(){return o.back()}),t._uU(56,"Cancel"),t.qZA(),t._uU(57,"\n            "),t.qZA(),t._uU(58,"\n            "),t.TgZ(59,"app-ct-flex-item"),t._uU(60,"\n              "),t.TgZ(61,"button",8),t.NdJ("click",function(){return o.save()}),t._uU(62,"Save"),t.qZA(),t._uU(63,"\n            "),t.qZA(),t._uU(64,"\n          "),t.qZA(),t._uU(65,"\n        "),t.qZA(),t._uU(66,"\n      "),t.qZA(),t._uU(67,"\n    "),t.qZA(),t._uU(68,"\n  "),t.qZA(),t._uU(69,"\n  "),t.TgZ(70,"app-ct-col",1),t._uU(71,"\n    "),t.YNc(72,Ct,13,2,"app-ct-section",9),t._uU(73,"\n  "),t.qZA(),t._uU(74,"\n"),t.qZA()),2&n&&(t.xp6(12),t.AsE("Edit Account ",o.account?o.account.username:""," (",o.account?o.account.publicName:"",")"),t.xp6(8),t.Q6J("formGroup",o.form),t.xp6(41),t.Q6J("disabled",o.currentStates.has(o.states.wait)||o.form.invalid),t.xp6(11),t.Q6J("ngIf",o.response))},dependencies:[u.sg,u.O5,v.a,U.U,h.n,f.V,Z.R,y.t,O.W,A.i,T.Z,C.t,b.B,x.i,q._,M.lW,I.Nt,g.KE,g.hX,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],styles:["[_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),e})();var xt=i(1060),qt=i(1623);const P=[{path:"",component:_t},{path:"add",component:dt,data:{backConfig:["../"]}},{path:"access/:accountId",component:Ut,data:{backConfig:["../","../"]}},{path:"edit/:id",component:At,data:{backConfig:["../","../"]}},{path:"edit-password/:id",component:bt,data:{backConfig:["../","../"]}}];let R=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.Bz.forChild(P),l.Bz]}),e})(),Mt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.ez,R,qt.E,xt.$,a.u5,a.UX,N.aw.forChild({})]}),e})()},7530:(k,w,i)=>{i.d(w,{a:()=>N});var u=i(4650),a=i(1572);const l=["*"];let N=(()=>{class p{constructor(m){this.changeDetector=m,this.state={wait:!1}}ngOnInit(){void 0===this.isWaiting?this.isFnMode=!0:(this.isFnMode=!1,this.state.wait=this.isWaiting)}ngOnDestroy(){this.changeDetector.detach()}ngOnChanges(){this.isFnMode||(this.state.wait=this.isWaiting)}wait(){this.isFnMode&&(this.state.wait=!0,this.changeDetector.destroyed||this.changeDetector.detectChanges())}show(){this.isFnMode&&(this.state.wait=!1,this.changeDetector.destroyed||this.changeDetector.detectChanges())}}return p.\u0275fac=function(m){return new(m||p)(u.Y36(u.sBO))},p.\u0275cmp=u.Xpm({type:p,selectors:[["ct-table"]],inputs:{isWaiting:"isWaiting"},features:[u.TTD],ngContentSelectors:l,decls:12,vars:2,consts:[[1,"ct-table"],[1,"ct-table__body"],[1,"ct-table__wait"]],template:function(m,r){1&m&&(u.F$t(),u.TgZ(0,"div",0),u._uU(1,"\n    "),u.TgZ(2,"div",1),u._uU(3,"\n        "),u.Hsn(4),u._uU(5,"\n    "),u.qZA(),u._uU(6,"\n    "),u.TgZ(7,"div",2),u._uU(8,"\n        "),u._UZ(9,"mat-spinner"),u._uU(10,"\n    "),u.qZA(),u._uU(11,"\n"),u.qZA()),2&m&&u.ekj("ct-table--wait",r.state.wait)},dependencies:[a.Ou],styles:["[_nghost-%COMP%]{display:block;position:relative;margin:0;overflow-y:auto}[_nghost-%COMP%]     .mat-table{width:100%;border-collapse:collapse;background:none}[_nghost-%COMP%]     .mat-header-row{height:auto}[_nghost-%COMP%]     .mat-header-cell, [_nghost-%COMP%]     .mat-cell, [_nghost-%COMP%]     .mat-footer-cell{border-bottom-width:1px;border-bottom-style:solid;border-top-width:1px;border-top-style:solid;padding:9px;font-family:Roboto Condensed,sans-serif;font-size:14.94px;line-height:18px}[_nghost-%COMP%]     .mat-header-cell{white-space:nowrap;font-weight:700;vertical-align:baseline;color:inherit}[_nghost-%COMP%]     .mat-cell{vertical-align:baseline}[_nghost-%COMP%]     .mat-header-cell:first-child, [_nghost-%COMP%]     .mat-cell:first-child{padding-left:9px}[_nghost-%COMP%]     .mat-header-cell:last-child, [_nghost-%COMP%]     .mat-cell:last-child{padding-right:9px}[_nghost-%COMP%]     .mat-row{height:auto}.light-theme[_nghost-%COMP%]     .mat-header-cell, .light-theme   [_nghost-%COMP%]     .mat-header-cell, .light-theme[_nghost-%COMP%]     .mat-cell, .light-theme   [_nghost-%COMP%]     .mat-cell, .light-theme[_nghost-%COMP%]     .mat-footer-cell, .light-theme   [_nghost-%COMP%]     .mat-footer-cell{border-top-color:#f0f0f0;border-bottom-color:#f0f0f0}.dark-theme[_nghost-%COMP%]     .mat-header-cell, .dark-theme   [_nghost-%COMP%]     .mat-header-cell, .dark-theme[_nghost-%COMP%]     .mat-cell, .dark-theme   [_nghost-%COMP%]     .mat-cell, .dark-theme[_nghost-%COMP%]     .mat-footer-cell, .dark-theme   [_nghost-%COMP%]     .mat-footer-cell{border-top-color:#474747;border-bottom-color:#474747}.ct-table[_ngcontent-%COMP%]{position:relative}.ct-table__wait[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:none;align-items:center;justify-content:center;background-color:#ffffff1a;overflow:hidden}.ct-table--wait[_ngcontent-%COMP%]   .ct-table__body[_ngcontent-%COMP%]{opacity:.5}.ct-table--wait[_ngcontent-%COMP%]   .ct-table__wait[_ngcontent-%COMP%]{display:flex}"]}),p})()}}]);