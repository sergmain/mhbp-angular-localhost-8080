"use strict";(self.webpackChunkmhbp_angular=self.webpackChunkmhbp_angular||[]).push([[747],{747:(Dt,C,a)=>{a.r(C),a.d(C,{EvaluationModule:()=>St,EvaluationRoutes:()=>I,EvaluationRoutingModule:()=>F});var i=a(1180),v=a(6895),f=a(9299),h=a(3081),L=a(1623),H=a(6603),r=a(4006),s=a(3626),E=a(8318),b=a(3788),U=a(9272),$=a(2340),Z=a(7528),t=a(4650),G=a(529);const g=e=>`${$.N.baseUrl}dispatcher/evaluation/${e}`;let y=(()=>{class e{constructor(n){(0,i.Z)(this,"http",void 0),this.http=n}getEvaluations(n){let l=g("evaluations");return console.log("Evaluation.newUrl: "+l),this.http.get(l,{params:{page:n}})}evaluationDeleteCommit(n){return console.log("Delete evaluation #"+n),this.http.post(g("evaluation-delete-commit"),(0,Z.P)({evaluationId:n}))}evaluationAdd(){return this.http.get(g("evaluation-add"))}addFormCommit(n,l,u){return this.http.post(g("evaluation-add-commit"),(0,Z.P)({code:n,apiId:l,kbIds:u}))}runEvaluation(n){return console.log("Run evaluation #"+n),this.http.post(g("run-evaluation"),(0,Z.P)({id:n}))}runTestEvaluation(n){return console.log("Run evaluation #"+n),this.http.post(g("run-test-evaluation"),(0,Z.P)({id:n}))}}return(0,i.Z)(e,"\u0275fac",function(n){return new(n||e)(t.LFG(G.eN))}),(0,i.Z)(e,"\u0275prov",t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})),e})();var K=a(5938),S=a(1439),D=a(9185),R=a(6890),q=a(2555),O=a(7530),w=a(6264),N=a(305),Y=a(5014),J=a(8868),Q=a(3370),j=a(9863),P=a(7824),T=a(4859),B=a(7392),x=function(e,o,n,l){var p,u=arguments.length,c=u<3?o:null===l?l=Object.getOwnPropertyDescriptor(o,n):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,o,n,l);else for(var m=e.length-1;m>=0;m--)(p=e[m])&&(c=(u<3?p(c):u>3?p(o,n,c):p(o,n))||c);return u>3&&c&&Object.defineProperty(o,n,c),c},d=function(e,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,o)};function z(e,o){1&e&&t.GkF(0)}function W(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"app-ct-section"),t._uU(1,"\n    "),t.TgZ(2,"app-ct-section-header"),t._uU(3,"\n        "),t.TgZ(4,"app-ct-section-header-row"),t._uU(5,"\n            "),t.TgZ(6,"app-ct-flex",2),t._uU(7,"\n                "),t.TgZ(8,"app-ct-flex-item"),t._uU(9,"\n                    "),t.TgZ(10,"app-ct-heading"),t._uU(11,"Evaluations"),t.qZA(),t._uU(12,"\n                "),t.qZA(),t._uU(13,"\n            "),t.qZA(),t._uU(14,"\n            "),t.TgZ(15,"app-ct-flex",3),t._uU(16,"\n                "),t.TgZ(17,"app-ct-flex-item"),t._uU(18,"\n                    "),t.TgZ(19,"button",4),t._uU(20,"Add new Evaluation"),t.qZA(),t._uU(21,"\n                "),t.qZA(),t._uU(22,"\n            "),t.qZA(),t._uU(23,"\n        "),t.qZA(),t._uU(24,"\n    "),t.qZA(),t._uU(25,"\n    "),t.TgZ(26,"app-ct-section-body"),t._uU(27,"\n        "),t.TgZ(28,"app-ct-section-body-row"),t._uU(29,"\n            "),t.YNc(30,z,1,0,"ng-container",5),t._uU(31,"\n        "),t.qZA(),t._uU(32,"\n    "),t.qZA(),t._uU(33,"\n    "),t.TgZ(34,"app-ct-section-footer"),t._uU(35,"\n        "),t.TgZ(36,"app-ct-section-footer-row"),t._uU(37,"\n            "),t.TgZ(38,"app-ct-flex",2),t._uU(39,"\n                "),t.TgZ(40,"app-ct-flex-item"),t._uU(41,"\n                    "),t.TgZ(42,"app-ct-flex",6),t._uU(43,"\n                        "),t.TgZ(44,"app-ct-table-pagination",7),t.NdJ("next",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.nextPage())})("prev",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.prevPage())}),t._uU(45,"\n                        "),t.qZA(),t._uU(46,"\n                    "),t.qZA(),t._uU(47,"\n                "),t.qZA(),t._uU(48,"\n            "),t.qZA(),t._uU(49,"\n        "),t.qZA(),t._uU(50,"\n    "),t.qZA(),t._uU(51,"\n"),t.qZA()}if(2&e){const n=t.oxw(),l=t.MAs(3);t.xp6(30),t.Q6J("ngTemplateOutlet",l),t.xp6(14),t.Q6J("pageableDefault",n.simpleEvaluationsResult.evaluations)("globalDisable",n.isLoading)}}function X(e,o){1&e&&(t.TgZ(0,"th",19),t._uU(1,"EvaluationId"),t.qZA())}function V(e,o){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("",n.evaluationId," ")}}function k(e,o){1&e&&(t.TgZ(0,"th",19),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"evaluation.ProviderCode")))}function tt(e,o){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("",n.code," ")}}function nt(e,o){1&e&&(t.TgZ(0,"th",19),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("\n                    ",t.lcZ(2,1,"evaluation.CreatedOn"),"\n                "))}function et(e,o){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("\n                    ",t.xi3(2,1,n.createdOn,"MMM d, yyyy, HH:mm:ss"),"\n                ")}}function ot(e,o){1&e&&t._UZ(0,"th",19)}function at(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"td",21),t._uU(1,"\n                    "),t.TgZ(2,"app-ct-flex",22),t._uU(3,"\n                        "),t.TgZ(4,"app-ct-flex-item"),t._uU(5,"\n                            "),t.TgZ(6,"button",23),t.NdJ("click",function(){const c=t.CHM(n).$implicit,p=t.oxw(2);return t.KtG(p.delete(c))}),t._uU(7,"\n                                "),t.TgZ(8,"mat-icon"),t._uU(9,"delete"),t.qZA(),t._uU(10,"\n                            "),t.qZA(),t._uU(11,"\n                        "),t.qZA(),t._uU(12,"\n                        "),t.TgZ(13,"app-ct-flex-item"),t._uU(14,"\n                            "),t.TgZ(15,"button",23),t.NdJ("click",function(){const c=t.CHM(n).$implicit,p=t.oxw(2);return t.KtG(p.runTestEvaluation(c))}),t._uU(16,"\n                                Test\n                            "),t.qZA(),t._uU(17,"\n                        "),t.qZA(),t._uU(18,"\n                        "),t.TgZ(19,"app-ct-flex-item"),t._uU(20,"\n                            "),t.TgZ(21,"button",23),t.NdJ("click",function(){const c=t.CHM(n).$implicit,p=t.oxw(2);return t.KtG(p.runEvaluation(c))}),t._uU(22,"\n                                Run\n                            "),t.qZA(),t._uU(23,"\n                        "),t.qZA(),t._uU(24,"\n                    "),t.qZA(),t._uU(25,"\n                "),t.qZA()}}function it(e,o){1&e&&t._UZ(0,"tr",24)}function lt(e,o){1&e&&t._UZ(0,"tr",25)}function ut(e,o){if(1&e&&(t._uU(0,"\n    "),t.TgZ(1,"ct-table",8),t._uU(2,"\n        "),t.TgZ(3,"table",9),t._uU(4,"\n            "),t.ynx(5,10),t._uU(6,"\n                "),t.YNc(7,X,2,0,"th",11),t._uU(8,"\n                "),t.YNc(9,V,2,1,"td",12),t._uU(10,"\n            "),t.BQk(),t._uU(11,"\n            "),t.ynx(12,13),t._uU(13,"\n                "),t.YNc(14,k,3,3,"th",11),t._uU(15,"\n                "),t.YNc(16,tt,2,1,"td",12),t._uU(17,"\n            "),t.BQk(),t._uU(18,"\n            "),t.ynx(19,14),t._uU(20,"\n                "),t.YNc(21,nt,3,3,"th",11),t._uU(22,"\n                "),t.YNc(23,et,3,4,"td",15),t._uU(24,"\n            "),t.BQk(),t._uU(25,"\n            "),t.ynx(26,16),t._uU(27,"\n                "),t.YNc(28,ot,1,0,"th",11),t._uU(29,"\n                "),t.YNc(30,at,26,0,"td",15),t._uU(31,"\n            "),t.BQk(),t._uU(32,"\n            "),t.YNc(33,it,1,0,"tr",17),t._uU(34,"\n            "),t.YNc(35,lt,1,0,"tr",18),t._uU(36,"\n        "),t.qZA(),t._uU(37,"\n    "),t.qZA(),t._uU(38,"\n")),2&e){const n=t.oxw();t.xp6(1),t.Q6J("isWaiting",n.isLoading),t.xp6(2),t.Q6J("dataSource",n.dataSource),t.xp6(30),t.Q6J("matHeaderRowDef",n.columnsToDisplay),t.xp6(2),t.Q6J("matRowDefColumns",n.columnsToDisplay)}}class _ extends E.S{constructor(o,n,l){super(n),(0,i.Z)(this,"dialog",void 0),(0,i.Z)(this,"authenticationService",void 0),(0,i.Z)(this,"evaluationService",void 0),(0,i.Z)(this,"columnsToDisplay",["evaluationId","code","createdOn","bts"]),(0,i.Z)(this,"simpleEvaluationsResult",void 0),(0,i.Z)(this,"dataSource",new s.by([])),this.dialog=o,this.authenticationService=n,this.evaluationService=l}ngOnInit(){console.log("evaluations.component.ts.ngOnInit()"),this.getEvaluations(0)}getEvaluations(o){this.setIsLoadingStart(),this.evaluationService.getEvaluations(o.toString()).subscribe({next:n=>{this.simpleEvaluationsResult=n,this.dataSource=new s.by(this.simpleEvaluationsResult.evaluations.content||[])},complete:()=>{this.setIsLoadingEnd()}})}delete(o){this.evaluationService.evaluationDeleteCommit(o.evaluationId.toString()).subscribe(n=>this.getEvaluations(this.simpleEvaluationsResult.evaluations.number))}runEvaluation(o){this.evaluationService.runEvaluation(o.evaluationId.toString()).subscribe(n=>this.getEvaluations(this.simpleEvaluationsResult.evaluations.number))}runTestEvaluation(o){this.evaluationService.runTestEvaluation(o.evaluationId.toString()).subscribe(n=>this.getEvaluations(this.simpleEvaluationsResult.evaluations.number))}prevPage(){this.getEvaluations(this.simpleEvaluationsResult.evaluations.number-1)}nextPage(){this.getEvaluations(this.simpleEvaluationsResult.evaluations.number+1)}}(0,i.Z)(_,"\u0275fac",function(o){return new(o||_)(t.Y36(K.uw),t.Y36(b.$h),t.Y36(y))}),(0,i.Z)(_,"\u0275cmp",t.Xpm({type:_,selectors:[["evaluations"]],features:[t.qOj],decls:5,vars:1,consts:[[4,"ngIf"],["mainTableTemplate",""],["justify-content","space-between"],["justify-content","flex-end"],["mat-flat-button","mat-flat-button","color","primary","routerLink","add"],[4,"ngTemplateOutlet"],["justify-content","flex-start","gap","8px"],[3,"pageableDefault","globalDisable","next","prev"],[3,"isWaiting"],["mat-table","mat-table",1,"mat-table",3,"dataSource"],["matColumnDef","evaluationId"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","mat-cell",4,"matCellDef"],["matColumnDef","code"],["matColumnDef","createdOn"],["mat-cell","",4,"matCellDef"],["matColumnDef","bts"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","mat-cell"],["mat-cell",""],["justify-content","flex-end","gap","8px"],["mat-flat-button","","color","warn","size","forTableRow",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(o,n){1&o&&(t.YNc(0,W,52,3,"app-ct-section",0),t._uU(1,"\n\n\n\n"),t.YNc(2,ut,39,4,"ng-template",null,1,t.W1O),t._uU(4,"\n\n\n")),2&o&&t.Q6J("ngIf",n.simpleEvaluationsResult)},dependencies:[v.O5,v.tP,f.rH,S.U,D.n,R.V,q.R,O.a,w.i,N.Z,Y.t,J.B,Q.i,j._,P.C,T.lW,B.Hw,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,v.uU,h.X$]})),x([(0,U.K)({question:e=>`Do you want to delete SimpleEvaluation\xa0#${e.evaluationId}`,rejectTitle:"Cancel",resolveTitle:"Delete"}),d("design:type",Function),d("design:paramtypes",[Object]),d("design:returntype",void 0)],_.prototype,"delete",null),x([(0,U.K)({question:e=>`Do you want to run an evaluation #${e.id}`,resolveTitle:"Run",rejectTitle:"Cancel"}),d("design:type",Function),d("design:paramtypes",[Object]),d("design:returntype",void 0)],_.prototype,"runEvaluation",null),x([(0,U.K)({question:e=>`Do you want to run a test evaluation #${e.id}`,resolveTitle:"Test",rejectTitle:"Cancel"}),d("design:type",Function),d("design:paramtypes",[Object]),d("design:returntype",void 0)],_.prototype,"runTestEvaluation",null);var st=a(535),M=a(1145),ct=a(2199),pt=a(5017),rt=a(2379),dt=a(5510),_t=a(1023),mt=a(3238),vt=a(6709),ft=a(284),A=a(9549),gt=a(4385);function ht(e,o){if(1&e&&(t.TgZ(0,"div"),t._uU(1,"\n                                "),t.TgZ(2,"mat-option",21),t._uU(3),t.qZA(),t._uU(4,"\n                            "),t.qZA()),2&e){const n=o.$implicit;t.xp6(2),t.Q6J("value",n),t.xp6(1),t.Oqu(n.uid)}}function Zt(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"th",22),t._uU(1,"\n                                    "),t.TgZ(2,"mat-checkbox",23),t.NdJ("change",function(u){t.CHM(n);const c=t.oxw(2);return t.KtG(u?c.masterToggle():null)}),t._uU(3,"\n                                    "),t.qZA(),t._uU(4,"\n                                "),t.qZA()}if(2&e){const n=t.oxw(2);t.xp6(2),t.Q6J("checked",n.selection.hasValue()&&n.isAllSelected())("indeterminate",n.selection.hasValue()&&!n.isAllSelected())}}function Ut(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"td",24),t._uU(1,"\n                                    "),t.TgZ(2,"mat-checkbox",25),t.NdJ("click",function(u){return u.stopPropagation()})("change",function(u){const p=t.CHM(n).$implicit,m=t.oxw(2);return t.KtG(u?m.selection.toggle(p):null)}),t._uU(3,"\n                                    "),t.qZA(),t._uU(4,"\n                                "),t.qZA()}if(2&e){const n=o.$implicit,l=t.oxw(2);t.xp6(2),t.Q6J("checked",l.selection.isSelected(n))}}function Tt(e,o){1&e&&(t.TgZ(0,"th",22),t._uU(1,"Id"),t.qZA())}function xt(e,o){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.id)}}function At(e,o){1&e&&(t.TgZ(0,"th",22),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"evaluation-add.UID")))}function Ct(e,o){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij("",n.uid," ")}}function Et(e,o){1&e&&t._UZ(0,"tr",26)}function bt(e,o){1&e&&t._UZ(0,"tr",27)}function yt(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"app-ct-cols"),t._uU(1,"\n    "),t.TgZ(2,"app-ct-col",1),t._uU(3,"\n        "),t.TgZ(4,"app-ct-section"),t._uU(5,"\n            "),t.TgZ(6,"app-ct-section-header"),t._uU(7,"\n                "),t.TgZ(8,"app-ct-section-header-row"),t._uU(9,"\n                    "),t.TgZ(10,"app-ct-heading"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t._uU(13,"\n                "),t.qZA(),t._uU(14,"\n            "),t.qZA(),t._uU(15,"\n            "),t.TgZ(16,"app-ct-section-body"),t._uU(17,"\n                "),t.TgZ(18,"app-ct-section-body-row"),t._uU(19,"\n                    "),t.TgZ(20,"form",2),t._uU(21,"\n                        "),t.TgZ(22,"mat-form-field",3),t._uU(23,"\n                            "),t.TgZ(24,"mat-label"),t._uU(25,"Code"),t.qZA(),t._uU(26,"\n                            "),t._UZ(27,"input",4),t._uU(28,"\n                            "),t.TgZ(29,"mat-hint"),t._uU(30),t.ALo(31,"translate"),t.qZA(),t._uU(32,"\n                        "),t.qZA(),t._uU(33,"\n                    "),t.qZA(),t._uU(34,"\n                "),t.qZA(),t._uU(35,"\n                "),t.TgZ(36,"app-ct-section-body-row"),t._uU(37,"\n                    "),t.TgZ(38,"mat-form-field",5),t._uU(39,"\n                        "),t.TgZ(40,"mat-label"),t._uU(41),t.ALo(42,"translate"),t.qZA(),t._uU(43,"\n                        "),t.TgZ(44,"mat-select",6),t.NdJ("ngModelChange",function(u){t.CHM(n);const c=t.oxw();return t.KtG(c.apiUid=u)}),t._uU(45,"\n                            "),t.YNc(46,ht,5,2,"div",7),t._uU(47,"\n                        "),t.qZA(),t._uU(48,"\n                        "),t.TgZ(49,"mat-hint"),t._uU(50),t.ALo(51,"translate"),t.qZA(),t._uU(52,"\n                    "),t.qZA(),t._uU(53,"\n                "),t.qZA(),t._uU(54,"\n                "),t.TgZ(55,"app-ct-section-body-row"),t._uU(56,"\n                    "),t.TgZ(57,"ct-table",8),t._uU(58,"\n                        "),t.TgZ(59,"table",9),t._uU(60,"\n                            "),t.ynx(61,10),t._uU(62,"\n                                "),t.YNc(63,Zt,5,2,"th",11),t._uU(64,"\n                                "),t.YNc(65,Ut,5,1,"td",12),t._uU(66,"\n                            "),t.BQk(),t._uU(67,"\n                            "),t.ynx(68,13),t._uU(69,"\n                                "),t.YNc(70,Tt,2,0,"th",11),t._uU(71,"\n                                "),t.YNc(72,xt,2,1,"td",12),t._uU(73,"\n                            "),t.BQk(),t._uU(74,"\n                            "),t.ynx(75,14),t._uU(76,"\n                                "),t.YNc(77,At,3,3,"th",11),t._uU(78,"\n                                "),t.YNc(79,Ct,2,1,"td",12),t._uU(80,"\n                            "),t.BQk(),t._uU(81,"\n                            "),t.YNc(82,Et,1,0,"tr",15),t._uU(83,"\n                            "),t.YNc(84,bt,1,0,"tr",16),t._uU(85,"\n                        "),t.qZA(),t._uU(86,"\n                    "),t.qZA(),t._uU(87,"\n                "),t.qZA(),t._uU(88,"\n            "),t.qZA(),t._uU(89,"\n\n            "),t.TgZ(90,"app-ct-section-footer"),t._uU(91,"\n                "),t.TgZ(92,"app-ct-section-footer-row"),t._uU(93,"\n                    "),t.TgZ(94,"app-ct-flex",17),t._uU(95,"\n                        "),t.TgZ(96,"app-ct-flex-item"),t._uU(97,"\n                            "),t.TgZ(98,"button",18),t._uU(99),t.ALo(100,"translate"),t.qZA(),t._uU(101,"\n                        "),t.qZA(),t._uU(102,"\n                        "),t.TgZ(103,"app-ct-flex-item"),t._uU(104,"\n                            "),t.TgZ(105,"button",19),t.NdJ("click",function(){t.CHM(n);const u=t.oxw();return t.KtG(u.create())}),t._uU(106),t.ALo(107,"translate"),t.qZA(),t._uU(108,"\n                        "),t.qZA(),t._uU(109,"\n                    "),t.qZA(),t._uU(110,"\n                "),t.qZA(),t._uU(111,"\n            "),t.qZA(),t._uU(112,"\n        "),t.qZA(),t._uU(113,"\n    "),t.qZA(),t._uU(114,"\n    "),t.TgZ(115,"app-ct-col",1),t._uU(116,"\n        "),t._UZ(117,"app-ct-rest-status",20),t._uU(118,"\n    "),t.qZA(),t._uU(119,"\n"),t.qZA()}if(2&e){const n=t.oxw();t.xp6(11),t.Oqu(t.lcZ(12,15,"evaluation-add.Create a new evaluation for specific API")),t.xp6(9),t.Q6J("formGroup",n.form),t.xp6(10),t.Oqu(t.lcZ(31,17,"main.This is a required field.")),t.xp6(11),t.hij(" ",t.lcZ(42,19,"evaluation-add.List of APIs"),""),t.xp6(3),t.Q6J("ngModel",n.apiUid),t.xp6(2),t.Q6J("ngForOf",n.listOfApis),t.xp6(4),t.Oqu(t.lcZ(51,21,"main.This is a required field.")),t.xp6(7),t.Q6J("isWaiting",n.isLoading),t.xp6(2),t.Q6J("dataSource",n.dataSource),t.xp6(23),t.Q6J("matHeaderRowDef",n.columnsToDisplay),t.xp6(2),t.Q6J("matRowDefColumns",n.columnsToDisplay),t.xp6(15),t.hij("\n                                ",t.lcZ(100,23,"main.Cancel"),""),t.xp6(6),t.Q6J("disabled",n.notToCreate()),t.xp6(1),t.hij(" ",t.lcZ(107,25,"evaluation-add.Create"),""),t.xp6(11),t.Q6J("content",n.uploadResponse)}}const I=[{path:"",component:_},{path:"add",component:(()=>{class e extends E.S{constructor(n,l,u,c,p,m){super(m),(0,i.Z)(this,"evaluationService",void 0),(0,i.Z)(this,"router",void 0),(0,i.Z)(this,"route",void 0),(0,i.Z)(this,"translate",void 0),(0,i.Z)(this,"settingsService",void 0),(0,i.Z)(this,"authenticationService",void 0),(0,i.Z)(this,"states",st.C),(0,i.Z)(this,"currentStates",new Set),(0,i.Z)(this,"response",void 0),(0,i.Z)(this,"uploadResponse",void 0),(0,i.Z)(this,"selection",new pt.Ov(!0,[])),(0,i.Z)(this,"dataSource",new s.by([])),(0,i.Z)(this,"columnsToDisplay",["check","id","uid"]),(0,i.Z)(this,"apiUid",void 0),(0,i.Z)(this,"listOfApis",[]),(0,i.Z)(this,"listOfKbs",[]),(0,i.Z)(this,"form",new r.cw({code:new r.NI("",[r.kI.required,r.kI.minLength(3)])})),(0,i.Z)(this,"button",void 0),this.evaluationService=n,this.router=l,this.route=u,this.translate=c,this.settingsService=p,this.authenticationService=m}ngOnInit(){this.subscribeSubscription(this.settingsService.events.subscribe(n=>{n instanceof M.U&&this.translate.use(n.settings.language)})),this.updateResponse()}ngOnDestroy(){this.unsubscribeSubscriptions()}updateResponse(){this.evaluationService.evaluationAdd().subscribe(n=>{this.response=n,this.listOfApis=this.response.apis,this.listOfKbs=this.response.kbs,this.dataSource=new s.by(this.listOfKbs||[]),this.isLoading=!1})}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(n=>this.selection.select(n))}create(){this.button.disabled=!0,this.currentStates.add(this.states.wait);const n=this.evaluationService.addFormCommit(this.form.value.code,this.apiUid.id.toString(),this.selection.selected.map(l=>l.id.toString())).subscribe(l=>{l.status===ct.o.OK&&this.router.navigate(["../","evaluations"],{relativeTo:this.route})},()=>{},()=>{this.currentStates.delete(this.states.wait),n.unsubscribe()})}back(){this.router.navigate(["../"],{relativeTo:this.route})}notToCreate(){return null==this.apiUid||this.selection.isEmpty()||this.form.invalid}}return(0,i.Z)(e,"\u0275fac",function(n){return new(n||e)(t.Y36(y),t.Y36(f.F0),t.Y36(f.gz),t.Y36(h.sK),t.Y36(M.g),t.Y36(b.$h))}),(0,i.Z)(e,"\u0275cmp",t.Xpm({type:e,selectors:[["evaluation-add"]],viewQuery:function(n,l){if(1&n&&t.Gf(T.lW,5),2&n){let u;t.iGM(u=t.CRH())&&(l.button=u.first)}},features:[t.qOj],decls:1,vars:1,consts:[[4,"ngIf"],["size","6"],["novalidate","novalidate",3,"formGroup"],["appearance","outline",2,"width","100%"],["matInput","matInput","type","text","autocomplete","code","formControlName","code"],["appearance","outline"],[3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[3,"isWaiting"],["mat-table","mat-table",1,"mat-table",3,"dataSource"],["matColumnDef","check"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["matColumnDef","uid"],["mat-header-row","",4,"matHeaderRowDef"],["class","first-row","mat-row","",4,"matRowDef","matRowDefColumns"],["justify-content","flex-end","gap","8px"],["mat-stroked-button","mat-stroked-button","routerLink","/dispatcher/accounts/"],["mat-flat-button","mat-flat-button","color","primary",3,"disabled","click"],[3,"content"],[3,"value"],["mat-header-cell",""],["color","warn",3,"checked","indeterminate","change"],["mat-cell",""],["color","warn",3,"checked","click","change"],["mat-header-row",""],["mat-row","",1,"first-row"]],template:function(n,l){1&n&&t.YNc(0,yt,120,27,"app-ct-cols",0),2&n&&t.Q6J("ngIf",l.response)},dependencies:[v.sg,v.O5,f.rH,S.U,D.n,R.V,q.R,rt.t,dt.W,O.a,w.i,N.Z,Y.t,J.B,Q.i,j._,_t.R,mt.ey,T.lW,vt.oG,ft.Nt,A.KE,A.hX,A.bx,gt.gD,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,r._Y,r.Fj,r.JJ,r.JL,r.On,r.sg,r.u,h.X$],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]})),e})(),data:{backConfig:["../"]}}];let F=(()=>{class e{}return(0,i.Z)(e,"\u0275fac",function(n){return new(n||e)}),(0,i.Z)(e,"\u0275mod",t.oAB({type:e})),(0,i.Z)(e,"\u0275inj",t.cJS({imports:[f.Bz.forChild(I),f.Bz]})),e})(),St=(()=>{class e{}return(0,i.Z)(e,"\u0275fac",function(n){return new(n||e)}),(0,i.Z)(e,"\u0275mod",t.oAB({type:e})),(0,i.Z)(e,"\u0275inj",t.cJS({imports:[v.ez,F,L.E,H.$,r.u5,r.UX,h.aw.forChild({})]})),e})()}}]);